window.__require=function t(e,n,o){function s(r,a){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return s(e[r][1][t]||t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)s(o[r]);return s}({AnysdkMgr:[function(t,e){"use strict";cc._RF.push(e,"dfe3edwzmNFyohgr8CILrto","AnysdkMgr"),cc.Class({extends:cc.Component,properties:{_isCapturing:!1},onLoad:function(){},init:function(){this.ANDROID_API="com/vivigames/scmj/WXAPI",this.IOS_API="AppController"},login:function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.ANDROID_API,"Login","()V"):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(this.IOS_API,"login"):console.log("platform:"+cc.sys.os+" dosn't implement share.")},share:function(t,e){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.ANDROID_API,"Share","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",cc.vv.SI.appweb,t,e):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(this.IOS_API,"share:shareTitle:shareDesc:",cc.vv.SI.appweb,t,e):console.log("platform:"+cc.sys.os+" dosn't implement share.")},shareResult:function(){if(!this._isCapturing){this._isCapturing=!0;var t=cc.director.getWinSize(),e=(new Date,jsb.fileUtils.getWritablePath()+"result_share.jpg");jsb.fileUtils.isFileExist(e)&&jsb.fileUtils.removeFile(e);var n=new cc.RenderTexture(Math.floor(t.width),Math.floor(t.height));n.setPosition(cc.p(t.width/2,t.height/2)),n.begin(),cc.director.getRunningScene().visit(),n.end(),n.saveToFile("result_share.jpg",cc.IMAGE_FORMAT_JPG);var o=this,s=0;setTimeout(function n(){if(jsb.fileUtils.isFileExist(e)){var i=100/t.height,r=Math.floor(t.width*i);cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o.ANDROID_API,"ShareIMG","(Ljava/lang/String;II)V",e,r,100):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(o.IOS_API,"shareIMG:width:height:",e,r,100):console.log("platform:"+cc.sys.os+" dosn't implement share."),o._isCapturing=!1}else{if(++s>10)return void console.log("time out...");setTimeout(n,50)}},50)}},onLoginResp:function(t){cc.vv.http.sendRequest("/wechat_auth",{code:t,os:cc.sys.os},function(t){0==t.errcode&&(cc.sys.localStorage.setItem("wx_account",t.account),cc.sys.localStorage.setItem("wx_sign",t.sign)),cc.vv.userMgr.onAuth(t)})}}),cc._RF.pop()},{}],AudioMgr:[function(t,e){"use strict";cc._RF.push(e,"f7582YPQ3hJ1J1oYxH3MYpi","AudioMgr"),cc.Class({extends:cc.Component,properties:{bgmVolume:1,sfxVolume:1,bgmAudioID:-1},init:function(){var t;null!=(t=cc.sys.localStorage.getItem("bgmVolume"))&&(this.bgmVolume=parseFloat(t)),null!=(t=cc.sys.localStorage.getItem("sfxVolume"))&&(this.sfxVolume=parseFloat(t)),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("cc.audioEngine.pauseAll"),cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("cc.audioEngine.resumeAll"),cc.audioEngine.resumeAll()})},getUrl:function(t){return cc.url.raw("resources/sounds/"+t)},playBGM:function(t){var e=this.getUrl(t);console.log(e),this.bgmAudioID>=0&&cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=cc.audioEngine.play(e,!0,this.bgmVolume)},playSFX:function(t){var e=this.getUrl(t);this.sfxVolume>0&&cc.audioEngine.play(e,!1,this.sfxVolume)},setSFXVolume:function(t){this.sfxVolume!=t&&(cc.sys.localStorage.setItem("sfxVolume",t),this.sfxVolume=t)},setBGMVolume:function(t,e){this.bgmAudioID>=0&&(t>0?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID)),(this.bgmVolume!=t||e)&&(cc.sys.localStorage.setItem("bgmVolume",t),this.bgmVolume=t,cc.audioEngine.setVolume(this.bgmAudioID,t))},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()}}),cc._RF.pop()},{}],GameNetMgr:[function(t,e){"use strict";cc._RF.push(e,"4c5cfC0K1VGQYg9AqndkIE9","GameNetMgr"),cc.Class({extends:cc.Component,properties:{dataEventHandler:null,roomId:null,maxNumOfGames:0,numOfGames:0,numOfMJ:0,seatIndex:-1,seats:null,turn:-1,button:-1,dingque:-1,chupai:-1,isDingQueing:!1,isHuanSanZhang:!1,gamestate:"",isOver:!1,dissoveData:null},reset:function(){this.turn=-1,this.chupai=-1,this.dingque=-1,this.button=-1,this.gamestate="",this.dingque=-1,this.isDingQueing=!1,this.isHuanSanZhang=!1,this.curaction=null;for(var t=0;t<this.seats.length;++t)this.seats[t].holds=[],this.seats[t].folds=[],this.seats[t].pengs=[],this.seats[t].angangs=[],this.seats[t].diangangs=[],this.seats[t].wangangs=[],this.seats[t].dingque=-1,this.seats[t].ready=!1,this.seats[t].hued=!1,this.seats[t].huanpais=null,this.huanpaimethod=-1},clear:function(){this.dataEventHandler=null,null==this.isOver&&(this.seats=null,this.roomId=null,this.maxNumOfGames=0,this.numOfGames=0)},dispatchEvent:function(t,e){this.dataEventHandler&&this.dataEventHandler.emit(t,e)},getSeatIndexByID:function(t){for(var e=0;e<this.seats.length;++e)if(this.seats[e].userid==t)return e;return-1},isOwner:function(){return 0==this.seatIndex},getSeatByID:function(t){var e=this.getSeatIndexByID(t);return this.seats[e]},getSelfData:function(){return this.seats[this.seatIndex]},getLocalIndex:function(t){return(t-this.seatIndex+4)%4},prepareReplay:function(t,e){this.roomId=t.id,this.seats=t.seats,this.turn=e.base_info.button;for(var n=e.base_info,o=0;o<this.seats.length;++o){var s=this.seats[o];s.seatindex=o,s.score=null,s.holds=n.game_seats[o],s.pengs=[],s.angangs=[],s.diangangs=[],s.wangangs=[],s.folds=[],console.log(s),cc.vv.userMgr.userId==s.userid&&(this.seatIndex=o)}this.conf={type:n.type},null==this.conf.type&&this.conf.type},getWanfa:function(){var t=this.conf;if(t&&null!=t.maxGames&&null!=t.maxFan){var e=[];return e.push(t.maxGames+"\u5c40"),e.push(t.maxFan+"\u756a\u5c01\u9876"),t.hsz&&e.push("\u6362\u4e09\u5f20"),1==t.zimo?e.push("\u81ea\u6478\u52a0\u756a"):e.push("\u81ea\u6478\u52a0\u5e95"),t.jiangdui&&e.push("\u5c06\u5bf9"),1==t.dianganghua?e.push("\u70b9\u6760\u82b1(\u81ea\u6478)"):e.push("\u70b9\u6760\u82b1(\u653e\u70ae)"),t.menqing&&e.push("\u95e8\u6e05\u3001\u4e2d\u5f20"),t.tiandihu&&e.push("\u5929\u5730\u80e1"),e.join(" ")}return""},initHandlers:function(){var t=this;cc.vv.net.addHandler("login_result",function(e){console.log(e),0===e.errcode?(e=e.data,t.roomId=e.roomid,t.conf=e.conf,t.maxNumOfGames=e.conf.maxGames,t.numOfGames=e.numofgames,t.seats=e.seats,t.seatIndex=t.getSeatIndexByID(cc.vv.userMgr.userId),t.isOver=!1):console.log(e.errmsg)}),cc.vv.net.addHandler("login_finished",function(){console.log("login_finished"),cc.director.loadScene("mjgame")}),cc.vv.net.addHandler("exit_result",function(){t.roomId=null,t.turn=-1,t.dingque=-1,t.isDingQueing=!1,t.seats=null}),cc.vv.net.addHandler("exit_notify_push",function(e){var n=e,o=t.getSeatByID(n);null!=o&&(o.userid=0,o.name="",t.dispatchEvent("user_state_changed",o))}),cc.vv.net.addHandler("dispress_push",function(){t.roomId=null,t.turn=-1,t.dingque=-1,t.isDingQueing=!1,t.seats=null}),cc.vv.net.addHandler("disconnect",function(){null==t.roomId?cc.director.loadScene("hall"):0==t.isOver?(cc.vv.userMgr.oldRoomId=t.roomId,t.dispatchEvent("disconnect")):t.roomId=null}),cc.vv.net.addHandler("new_user_comes_push",function(e){var n=e.seatindex;t.seats[n].userid>0?t.seats[n].online=!0:(e.online=!0,t.seats[n]=e),t.dispatchEvent("new_user",t.seats[n])}),cc.vv.net.addHandler("user_state_push",function(e){var n=e.userid,o=t.getSeatByID(n);o.online=e.online,t.dispatchEvent("user_state_changed",o)}),cc.vv.net.addHandler("user_ready_push",function(e){var n=e.userid,o=t.getSeatByID(n);o.ready=e.ready,t.dispatchEvent("user_state_changed",o)}),cc.vv.net.addHandler("game_holds_push",function(e){var n=t.seats[t.seatIndex];console.log(e),n.holds=e;for(var o=0;o<t.seats.length;++o){var s=t.seats[o];null==s.folds&&(s.folds=[]),null==s.pengs&&(s.pengs=[]),null==s.angangs&&(s.angangs=[]),null==s.diangangs&&(s.diangangs=[]),null==s.wangangs&&(s.wangangs=[]),s.ready=!1}t.dispatchEvent("game_holds")}),cc.vv.net.addHandler("game_begin_push",function(e){console.log("game_action_push"),console.log(e),t.button=e,t.turn=t.button,t.gamestate="begin",t.dispatchEvent("game_begin")}),cc.vv.net.addHandler("game_playing_push",function(){console.log("game_playing_push"),t.gamestate="playing",t.dispatchEvent("game_playing")}),cc.vv.net.addHandler("game_sync_push",function(e){console.log("game_sync_push"),console.log(e),t.numOfMJ=e.numofmj,t.gamestate=e.state,"dingque"==t.gamestate?t.isDingQueing=!0:"huanpai"==t.gamestate&&(t.isHuanSanZhang=!0),t.turn=e.turn,t.button=e.button,t.chupai=e.chuPai,t.huanpaimethod=e.huanpaimethod;for(var n=0;n<4;++n){var o=t.seats[n],s=e.seats[n];o.holds=s.holds,o.folds=s.folds,o.angangs=s.angangs,o.diangangs=s.diangangs,o.wangangs=s.wangangs,o.pengs=s.pengs,o.dingque=s.que,o.hued=s.hued,o.iszimo=s.iszimo,o.huinfo=s.huinfo,o.huanpais=s.huanpais,n==t.seatIndex&&(t.dingque=s.que)}}),cc.vv.net.addHandler("game_dingque_push",function(){t.isDingQueing=!0,t.isHuanSanZhang=!1,t.dispatchEvent("game_dingque")}),cc.vv.net.addHandler("game_huanpai_push",function(){t.isHuanSanZhang=!0,t.dispatchEvent("game_huanpai")}),cc.vv.net.addHandler("hangang_notify_push",function(e){t.dispatchEvent("hangang_notify",e)}),cc.vv.net.addHandler("game_action_push",function(e){t.curaction=e,console.log(e),t.dispatchEvent("game_action",e)}),cc.vv.net.addHandler("game_chupai_push",function(e){console.log("game_chupai_push");var n=e,o=t.getSeatIndexByID(n);t.doTurnChange(o)}),cc.vv.net.addHandler("game_num_push",function(e){t.numOfGames=e,t.dispatchEvent("game_num",e)}),cc.vv.net.addHandler("game_over_push",function(e){console.log("game_over_push");for(var n=e.results,o=0;o<t.seats.length;++o)t.seats[o].score=0==n.length?0:n[o].totalscore;for(t.dispatchEvent("game_over",n),e.endinfo&&(t.isOver=!0,t.dispatchEvent("game_end",e.endinfo)),t.reset(),o=0;o<t.seats.length;++o)t.dispatchEvent("user_state_changed",t.seats[o])}),cc.vv.net.addHandler("mj_count_push",function(e){console.log("mj_count_push"),t.numOfMJ=e,t.dispatchEvent("mj_count",e)}),cc.vv.net.addHandler("hu_push",function(e){console.log("hu_push"),console.log(e),t.doHu(e)}),cc.vv.net.addHandler("game_chupai_notify_push",function(e){var n=e.userId,o=e.pai,s=t.getSeatIndexByID(n);t.doChupai(s,o)}),cc.vv.net.addHandler("game_mopai_push",function(e){console.log("game_mopai_push"),t.doMopai(t.seatIndex,e)}),cc.vv.net.addHandler("guo_notify_push",function(e){console.log("guo_notify_push");var n=e.userId,o=e.pai,s=t.getSeatIndexByID(n);t.doGuo(s,o)}),cc.vv.net.addHandler("guo_result",function(){console.log("guo_result"),t.dispatchEvent("guo_result")}),cc.vv.net.addHandler("guohu_push",function(){console.log("guohu_push"),t.dispatchEvent("push_notice",{info:"\u8fc7\u80e1",time:1.5})}),cc.vv.net.addHandler("huanpai_notify",function(e){var n=t.getSeatByID(e.si);n.huanpais=e.huanpais,t.dispatchEvent("huanpai_notify",n)}),cc.vv.net.addHandler("game_huanpai_over_push",function(e){console.log("game_huanpai_over_push");var n,o=e.method;n=0==o?"\u6362\u5bf9\u5bb6\u724c":1==o?"\u6362\u4e0b\u5bb6\u724c":"\u6362\u4e0a\u5bb6\u724c",t.huanpaimethod=o,cc.vv.gameNetMgr.isHuanSanZhang=!1,t.dispatchEvent("game_huanpai_over"),t.dispatchEvent("push_notice",{info:n,time:2})}),cc.vv.net.addHandler("peng_notify_push",function(e){console.log("peng_notify_push"),console.log(e);var n=e.userid,o=(e.pai,t.getSeatIndexByID(n));t.doPeng(o,e.pai)}),cc.vv.net.addHandler("gang_notify_push",function(e){console.log("gang_notify_push"),console.log(e);var n=e.userid,o=e.pai,s=t.getSeatIndexByID(n);t.doGang(s,o,e.gangtype)}),cc.vv.net.addHandler("game_dingque_notify_push",function(e){t.dispatchEvent("game_dingque_notify",e)}),cc.vv.net.addHandler("game_dingque_finish_push",function(e){for(var n=0;n<e.length;++n)t.seats[n].dingque=e[n];t.dispatchEvent("game_dingque_finish",e)}),cc.vv.net.addHandler("chat_push",function(e){t.dispatchEvent("chat_push",e)}),cc.vv.net.addHandler("quick_chat_push",function(e){t.dispatchEvent("quick_chat_push",e)}),cc.vv.net.addHandler("emoji_push",function(e){t.dispatchEvent("emoji_push",e)}),cc.vv.net.addHandler("dissolve_notice_push",function(e){console.log("dissolve_notice_push"),console.log(e),t.dissoveData=e,t.dispatchEvent("dissolve_notice",e)}),cc.vv.net.addHandler("dissolve_cancel_push",function(e){t.dissoveData=null,t.dispatchEvent("dissolve_cancel",e)}),cc.vv.net.addHandler("voice_msg_push",function(e){t.dispatchEvent("voice_msg",e)})},doGuo:function(t,e){var n=this.seats[t];n.folds.push(e),this.dispatchEvent("guo_notify",n)},doMopai:function(t,e){var n=this.seats[t];n.holds&&(n.holds.push(e),this.dispatchEvent("game_mopai",{seatIndex:t,pai:e}))},doChupai:function(t,e){this.chupai=e;var n=this.seats[t];if(n.holds){var o=n.holds.indexOf(e);n.holds.splice(o,1)}this.dispatchEvent("game_chupai_notify",{seatData:n,pai:e})},doPeng:function(t,e){var n=this.seats[t];if(n.holds)for(var o=0;o<2;++o){var s=n.holds.indexOf(e);n.holds.splice(s,1)}n.pengs.push(e),this.dispatchEvent("peng_notify",n)},getGangType:function(t,e){if(-1!=t.pengs.indexOf(e))return"wangang";for(var n=0,o=0;o<t.holds.length;++o)t.holds[o]==e&&n++;return 3==n?"diangang":"angang"},doGang:function(t,e,n){var o=this.seats[t];if(n||(n=this.getGangType(o,e)),"wangang"==n&&(-1!=o.pengs.indexOf(e)&&-1!=(i=o.pengs.indexOf(e))&&o.pengs.splice(i,1),o.wangangs.push(e)),o.holds)for(var s=0;s<=4;++s){var i;if(-1==(i=o.holds.indexOf(e)))break;o.holds.splice(i,1)}"angang"==n?o.angangs.push(e):"diangang"==n&&o.diangangs.push(e),this.dispatchEvent("gang_notify",{seatData:o,gangtype:n})},doHu:function(t){this.dispatchEvent("hupai",t)},doTurnChange:function(t){var e={last:this.turn,turn:t};this.turn=t,this.dispatchEvent("game_chupai",e)},connectGameServer:function(t){this.dissoveData=null,cc.vv.net.ip=t.ip+":"+t.port,console.log(cc.vv.net.ip),cc.vv.wc.show("\u6b63\u5728\u8fdb\u5165\u623f\u95f4"),cc.vv.net.connect(function(){console.log("onConnectOK");var e={token:t.token,roomid:t.roomid,time:t.time,sign:t.sign};cc.vv.net.send("login",e)},function(){console.log("failed."),cc.vv.wc.hide()})}}),cc._RF.pop()},{}],Global:[function(t,e){"use strict";cc._RF.push(e,"c0244demoVIG4jTu1XDASHs","Global"),cc.Class({extends:cc.Component,statics:{isstarted:!1,netinited:!1,userguid:0,nickname:"",money:0,lv:0,roomId:0}}),cc._RF.pop()},{}],HTTP:[function(t,e){"use strict";cc._RF.push(e,"73df3nV5IZAPoFSW/0IES+m","HTTP");var n="http://127.0.0.1:9000";cc.VERSION=20180108;var o=cc.Class({extends:cc.Component,statics:{sessionId:0,userId:0,master_url:n,url:n,sendRequest:function(t,e,n,s){var i=cc.loader.getXMLHttpRequest();i.timeout=5e3;var r="?";for(var a in e)"?"!=r&&(r+="&"),r+=a+"="+e[a];null==s&&(s=o.url);var c=s+t+encodeURI(r);return console.log("RequestURL:"+c),i.open("GET",c,!0),cc.sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8"),i.onreadystatechange=function(){if(4===i.readyState&&i.status>=200&&i.status<300){console.log("http res("+i.responseText.length+"):"+i.responseText);try{var t=JSON.parse(i.responseText);null!==n&&n(t)}catch(e){console.log("err:"+e)}finally{cc.vv&&cc.vv.wc}}},cc.vv&&cc.vv.wc,i.send(),i}}});cc._RF.pop()},{}],HotUpdate:[function(t,e){"use strict";cc._RF.push(e,"8b10788j31A0I2e3MKpB3Q0","HotUpdate"),cc.Class({extends:cc.Component,properties:{updatePanel:{default:null,type:cc.Node},manifestUrl:{default:null,url:cc.RawAsset},percent:{default:null,type:cc.Label},lblErr:{default:null,type:cc.Label}},checkCb:function(t){switch(cc.log("Code: "+t.getEventCode()),t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:cc.log("No local manifest file found, hot update skipped."),cc.eventManager.removeListener(this._checkListener);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:cc.log("Fail to download manifest file, hot update skipped."),cc.eventManager.removeListener(this._checkListener);break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:cc.log("Already up to date with the latest remote version."),cc.eventManager.removeListener(this._checkListener),this.lblErr.string+="\u6e38\u620f\u4e0d\u9700\u8981\u66f4\u65b0\n",cc.director.loadScene("loading");break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this._needUpdate=!0,this.updatePanel.active=!0,this.percent.string="00.00%",cc.eventManager.removeListener(this._checkListener)}this.hotUpdate()},updateCb:function(t){var e=!1,n=!1;switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:cc.log("No local manifest file found, hot update skipped."),n=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:var o=t.getPercent(),s=(t.getPercentByFile(),t.getMessage());s&&cc.log(s),cc.log(o.toFixed(2)+"%"),this.percent.string=o+"%";break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:cc.log("Fail to download manifest file, hot update skipped."),n=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:cc.log("Already up to date with the latest remote version."),n=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:cc.log("Update finished. "+t.getMessage()),e=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:cc.log("Update failed. "+t.getMessage()),this._failCount++,this._failCount<5?this._am.downloadFailedAssets():(cc.log("Reach maximum fail count, exit update process"),this._failCount=0,n=!0);break;case jsb.EventAssetsManager.ERROR_UPDATING:cc.log("Asset update error: "+t.getAssetId()+", "+t.getMessage());break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:cc.log(t.getMessage())}if(n&&(cc.eventManager.removeListener(this._updateListener),this.updatePanel.active=!1),e){cc.eventManager.removeListener(this._updateListener);var i=jsb.fileUtils.getSearchPaths(),r=this._am.getLocalManifest().getSearchPaths();Array.prototype.unshift(i,r),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(i)),jsb.fileUtils.setSearchPaths(i),this.lblErr.string+="\u6e38\u620f\u8d44\u6e90\u66f4\u65b0\u5b8c\u6bd5\n",cc.game.restart()}},hotUpdate:function(){this._am&&this._needUpdate&&(this.lblErr.string+="\u5f00\u59cb\u66f4\u65b0\u6e38\u620f\u8d44\u6e90...\n",this._updateListener=new jsb.EventListenerAssetsManager(this._am,this.updateCb.bind(this)),cc.eventManager.addListener(this._updateListener,1),this._failCount=0,this._am.update())},onLoad:function(){if(cc.sys.isNative){this.lblErr.string+="\u68c0\u67e5\u6e38\u620f\u8d44\u6e90...\n";var t=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"tiantianqipai-asset";cc.log("Storage path for remote asset : "+t),this.lblErr.string+=t+"\n",cc.log("Local manifest URL : "+this.manifestUrl),this._am=new jsb.AssetsManager(this.manifestUrl,t),this._am.retain(),this._needUpdate=!1,this._am.getLocalManifest().isLoaded()&&(this._checkListener=new jsb.EventListenerAssetsManager(this._am,this.checkCb.bind(this)),cc.eventManager.addListener(this._checkListener,1),this._am.checkUpdate())}},onDestroy:function(){this._am&&this._am.release()}}),cc._RF.pop()},{}],MahjongMgr:[function(t,e){"use strict";cc._RF.push(e,"e4fb97mwvFL3qT4H0AbOojz","MahjongMgr");var n=[];cc.Class({extends:cc.Component,properties:{leftAtlas:{default:null,type:cc.SpriteAtlas},rightAtlas:{default:null,type:cc.SpriteAtlas},bottomAtlas:{default:null,type:cc.SpriteAtlas},bottomFoldAtlas:{default:null,type:cc.SpriteAtlas},pengPrefabSelf:{default:null,type:cc.Prefab},pengPrefabLeft:{default:null,type:cc.Prefab},emptyAtlas:{default:null,type:cc.SpriteAtlas},holdsEmpty:{default:[],type:[cc.SpriteFrame]},_sides:null,_pres:null,_foldPres:null},onLoad:function(){if(null!=cc.vv){this._sides=["myself","right","up","left"],this._pres=["M_","R_","B_","L_"],this._foldPres=["B_","R_","B_","L_"],cc.vv.mahjongmgr=this;for(var t=1;t<10;++t)n.push("dot_"+t);for(t=1;t<10;++t)n.push("bamboo_"+t);for(t=1;t<10;++t)n.push("character_"+t);n.push("red"),n.push("green"),n.push("white"),n.push("wind_east"),n.push("wind_west"),n.push("wind_south"),n.push("wind_north")}},getMahjongSpriteByID:function(t){return n[t]},getMahjongType:function(t){return t>=0&&t<9?0:t>=9&&t<18?1:t>=18&&t<27?2:void 0},getSpriteFrameByMJID:function(t,e){var n=this.getMahjongSpriteByID(e);return n=t+n,"M_"==t?this.bottomAtlas.getSpriteFrame(n):"B_"==t?this.bottomFoldAtlas.getSpriteFrame(n):"L_"==t?this.leftAtlas.getSpriteFrame(n):"R_"==t?this.rightAtlas.getSpriteFrame(n):void 0},getAudioURLByMJID:function(t){var e=0;return t>=0&&t<9?e=t+21:t>=9&&t<18?e=t-8:t>=18&&t<27&&(e=t-7),"nv/"+e+".mp3"},getEmptySpriteFrame:function(t){return"up"==t?this.emptyAtlas.getSpriteFrame("e_mj_b_up"):"myself"==t?this.emptyAtlas.getSpriteFrame("e_mj_b_bottom"):"left"==t?this.emptyAtlas.getSpriteFrame("e_mj_b_left"):"right"==t?this.emptyAtlas.getSpriteFrame("e_mj_b_right"):void 0},getHoldsEmptySpriteFrame:function(t){return"up"==t?this.emptyAtlas.getSpriteFrame("e_mj_up"):"myself"==t?null:"left"==t?this.emptyAtlas.getSpriteFrame("e_mj_left"):"right"==t?this.emptyAtlas.getSpriteFrame("e_mj_right"):void 0},sortMJ:function(t,e){var n=this;t.sort(function(t,o){if(e>=0){var s=n.getMahjongType(t),i=n.getMahjongType(o);if(s!=i){if(e==s)return 1;if(e==i)return-1}}return t-o})},getSide:function(t){return this._sides[t]},getPre:function(t){return this._pres[t]},getFoldPre:function(t){return this._foldPres[t]}}),cc._RF.pop()},{}],Net:[function(t,e){"use strict";cc._RF.push(e,"21784k1nCpOz70Z2In10GT7","Net"),null==window.io&&(window.io=t("socket-io")),cc.Class({extends:cc.Component,statics:{ip:"",sio:null,isPinging:!1,fnDisconnect:null,handlers:{},addHandler:function(t,e){if(this.handlers[t])console.log("event:"+t+"' handler has been registered.");else{var n=function(n){"disconnect"!=t&&"string"==typeof n&&(n=JSON.parse(n)),e(n)};this.handlers[t]=n,this.sio&&(console.log("register:function "+t),this.sio.on(t,n))}},connect:function(t){var e=this;for(var n in console.log("ip in connect: ",this.ip),this.sio=window.io.connect(this.ip,{reconnection:!1,"force new connection":!0,transports:["websocket","polling"]}),this.sio.on("reconnect",function(){console.log("reconnection")}),this.sio.on("connect",function(n){e.sio.connected=!0,t(n)}),this.sio.on("disconnect",function(){console.log("disconnect"),e.sio.connected=!1,e.close()}),this.sio.on("connect_failed",function(){console.log("connect_failed")}),this.handlers){var o=this.handlers[n];"function"==typeof o&&("disconnect"==n?this.fnDisconnect=o:(console.log("register:function "+n),this.sio.on(n,o)))}this.startHearbeat()},startHearbeat:function(){this.sio.on("game_pong",function(){console.log("game_pong"),t.lastRecieveTime=Date.now()}),this.lastRecieveTime=Date.now();var t=this;console.log(1),t.isPinging||(console.log(1),t.isPinging=!0,setInterval(function(){console.log(3),t.sio&&(console.log(4),Date.now()-t.lastRecieveTime>1e4?t.close():t.ping())},5e3))},send:function(t,e){this.sio.connected&&(null!=e&&"object"==typeof e&&(e=JSON.stringify(e)),this.sio.emit(t,e))},ping:function(){this.send("game_ping")},close:function(){console.log("close"),this.sio&&this.sio.connected&&(this.sio.connected=!1,this.sio.disconnect(),this.sio=null),this.fnDisconnect&&(this.fnDisconnect(),this.fnDisconnect=null)},test:function(t){var e=null,n=this.ip.split(":"),o={account:cc.vv.userMgr.account,sign:cc.vv.userMgr.sign,ip:n[0],port:n[1]};e=cc.vv.http.sendRequest("/is_server_online",o,function(n){t(n.isonline),e=null}),setTimeout(function(){e&&(e.abort(),t(!1))},1500)}}}),cc._RF.pop()},{"socket-io":"socket-io"}],OnBack:[function(t,e){"use strict";cc._RF.push(e,"74331fmhv1GrY7cIXQ35kuc","OnBack"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this.node.getChildByName("btn_back");cc.vv.utils.addClickEvent(t,this.node,"OnBack","onBtnClicked")},onBtnClicked:function(t){"btn_back"==t.target.name&&(this.node.active=!1)}}),cc._RF.pop()},{}],ReplayMgr:[function(t,e){"use strict";cc._RF.push(e,"445e3qeTe1HrZvjs7b24OFj","ReplayMgr"),cc.Class({extends:cc.Component,properties:{_lastAction:null,_actionRecords:null,_currentIndex:0},onLoad:function(){},clear:function(){this._lastAction=null,this._actionRecords=null,this._currentIndex=0},init:function(t){this._actionRecords=t.action_records,null==this._actionRecords&&(this._actionRecords={}),this._currentIndex=0,this._lastAction=null},isReplay:function(){return null!=this._actionRecords},getNextAction:function(){return this._currentIndex>=this._actionRecords.length?null:{si:this._actionRecords[this._currentIndex++],type:this._actionRecords[this._currentIndex++],pai:this._actionRecords[this._currentIndex++]}},takeAction:function(){var t=this.getNextAction();return null!=this._lastAction&&1==this._lastAction.type&&null!=t&&3!=t.type&&4!=t.type&&5!=t.type&&cc.vv.gameNetMgr.doGuo(this._lastAction.si,this._lastAction.pai),this._lastAction=t,null==t?-1:1==t.type?(cc.vv.gameNetMgr.doChupai(t.si,t.pai),1):2==t.type?(cc.vv.gameNetMgr.doMopai(t.si,t.pai),cc.vv.gameNetMgr.doTurnChange(t.si),.5):3==t.type?(cc.vv.gameNetMgr.doPeng(t.si,t.pai),cc.vv.gameNetMgr.doTurnChange(t.si),1):4==t.type?(cc.vv.gameNetMgr.dispatchEvent("hangang_notify",t.si),cc.vv.gameNetMgr.doGang(t.si,t.pai),cc.vv.gameNetMgr.doTurnChange(t.si),1):5==t.type?(cc.vv.gameNetMgr.doHu({seatindex:t.si,hupai:t.pai,iszimo:!1}),1.5):void 0}}),cc._RF.pop()},{}],SelectPlayway:[function(t,e){"use strict";cc._RF.push(e,"7c36fbnLl9G+ITRQJdKnKcW","SelectPlayway"),cc.Class({extends:cc.Component,properties:{first:{default:null,type:cc.Node},playway:{default:null,type:cc.Prefab},content:{default:null,type:cc.Node}},onLoad:function(){}}),cc._RF.pop()},{}],UserMgr:[function(t,e){"use strict";cc._RF.push(e,"49846wj4bdFWoRYOeYfGhJ2","UserMgr"),cc.Class({extends:cc.Component,properties:{account:null,userId:null,userName:null,lv:0,exp:0,coins:0,gems:0,sign:0,ip:"",sex:0,roomData:null,oldRoomId:null},guestAuth:function(){var t=cc.args.account;null==t&&(t=cc.sys.localStorage.getItem("account")),null==t&&(t=Date.now(),cc.sys.localStorage.setItem("account",t)),cc.vv.http.sendRequest("/guest",{account:t},this.onAuth)},onAuth:function(t){var e=cc.vv.userMgr;0!==t.errcode?console.log(t.errmsg):(e.account=t.account,e.sign=t.sign,cc.vv.http.url="http://"+cc.vv.SI.hall,e.login())},login:function(){var t=this;cc.vv.wc.show("\u6b63\u5728\u767b\u5f55\u6e38\u620f"),cc.vv.http.sendRequest("/login",{account:this.account,sign:this.sign},function(e){0!==e.errcode?console.log(e.errmsg):e.userid?(console.log(e),t.account=e.account,t.userId=e.userid,t.userName=e.name,t.lv=e.lv,t.exp=e.exp,t.coins=e.coins,t.gems=e.gems,t.roomData=e.roomid,t.sex=e.sex,t.ip=e.ip,cc.director.loadScene("hall")):cc.director.loadScene("createrole")})},create:function(t){var e=this,n={account:this.account,sign:this.sign,name:t};cc.vv.http.sendRequest("/create_user",n,function(t){0!==t.errcode?console.log(t.errmsg):e.login()})},enterRoom:function(t,e){var n=this,o={account:cc.vv.userMgr.account,sign:cc.vv.userMgr.sign,roomid:t};cc.vv.wc.show("\u6b63\u5728\u8fdb\u5165\u623f\u95f4 "+t),cc.vv.http.sendRequest("/enter_private_room",o,function(o){0!==o.errcode?-1==o.errcode?setTimeout(function(){n.enterRoom(t,e)},5e3):(cc.vv.wc.hide(),null!=e&&e(o)):(null!=e&&e(o),cc.vv.gameNetMgr.connectGameServer(o))})},getHistoryList:function(t){var e={account:cc.vv.userMgr.account,sign:cc.vv.userMgr.sign};cc.vv.http.sendRequest("/get_history_list",e,function(e){0!==e.errcode?console.log(e.errmsg):(console.log(e.history),null!=t&&t(e.history))})},getGamesOfRoom:function(t,e){var n={account:cc.vv.userMgr.account,sign:cc.vv.userMgr.sign,uuid:t};cc.vv.http.sendRequest("/get_games_of_room",n,function(t){0!==t.errcode?console.log(t.errmsg):(console.log(t.data),e(t.data))})},getDetailOfGame:function(t,e,n){var o={account:cc.vv.userMgr.account,sign:cc.vv.userMgr.sign,uuid:t,index:e};cc.vv.http.sendRequest("/get_detail_of_game",o,function(t){0!==t.errcode?console.log(t.errmsg):(console.log(t.data),n(t.data))})}}),cc._RF.pop()},{}],Utils:[function(t,e){"use strict";cc._RF.push(e,"bf040eJWYNO6aWuiHWq60SX","Utils"),cc.Class({extends:cc.Component,properties:{},addClickEvent:function(t,e,n,o){console.log(n+":"+o);var s=new cc.Component.EventHandler;s.target=e,s.component=n,s.handler=o,t.getComponent(cc.Button).clickEvents.push(s)},addSlideEvent:function(t,e,n,o){var s=new cc.Component.EventHandler;s.target=e,s.component=n,s.handler=o,t.getComponent(cc.Slider).slideEvents.push(s)}}),cc._RF.pop()},{}],VoiceMgr:[function(t,e){"use strict";cc._RF.push(e,"04f79lfizNB5a8M0o33HmPW","VoiceMgr");var n=12,o=128-n;function s(t){t-=o;var e=Math.floor(t/n)+o,s=t%n+o;return String.fromCharCode(e)+String.fromCharCode(s)}for(var i={},r={},a=0;a<256;++a){var c,u=a+1;c=u>=o?s(u):String.fromCharCode(u),i[a]=c,r[c]=a}function l(t){var e="",n=t.length,o=n>>16&255,s=n>>8&255,r=255&n;e+=i[n>>24&255],e+=i[o],e+=i[s],e+=i[r];for(var a=0;a<t.length;++a)e+=i[t[a]];return e}function h(t,e){var n=t.charCodeAt(e);return n>=o?t.charAt(e)+t.charAt(e+1):t.charAt(e)}function p(t){for(var e=0,n=0,o=0;o<4;++o)e+=(a=h(t,e)).length,n|=r[a]<<8*(3-o);for(var s=new Uint8Array(n),i=0;e<t.length;){var a;e+=(a=h(t,e)).length,s[i]=r[a],i++}return s}cc.Class({extends:cc.Component,properties:{onPlayCallback:null,_voiceMediaPath:null},init:function(){cc.sys.isNative&&(this._voiceMediaPath=jsb.fileUtils.getWritablePath()+"/voicemsgs/",this.setStorageDir(this._voiceMediaPath))},prepare:function(t){cc.sys.isNative&&(cc.vv.audioMgr.pauseAll(),this.clearCache(t),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/vivigames/voicesdk/VoiceRecorder","prepare","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("VoiceSDK","prepareRecord:",t))},release:function(){cc.sys.isNative&&(cc.vv.audioMgr.resumeAll(),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/vivigames/voicesdk/VoiceRecorder","release","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("VoiceSDK","finishRecord"))},cancel:function(){cc.sys.isNative&&(cc.vv.audioMgr.resumeAll(),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/vivigames/voicesdk/VoiceRecorder","cancel","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("VoiceSDK","cancelRecord"))},writeVoice:function(t,e){if(cc.sys.isNative&&e&&e.length>0){var n=p(e),o=this._voiceMediaPath+t;this.clearCache(t),jsb.fileUtils.writeDataToFile(n,o)}},clearCache:function(t){if(cc.sys.isNative){var e=this._voiceMediaPath+t;jsb.fileUtils.isFileExist(e)&&jsb.fileUtils.removeFile(e),jsb.fileUtils.isFileExist(e+".wav")&&jsb.fileUtils.removeFile(e+".wav")}},play:function(t){cc.sys.isNative&&(cc.vv.audioMgr.pauseAll(),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/vivigames/voicesdk/VoicePlayer","play","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("VoiceSDK","play:",t))},stop:function(){cc.sys.isNative&&(cc.vv.audioMgr.resumeAll(),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/vivigames/voicesdk/VoicePlayer","stop","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("VoiceSDK","stopPlay"))},getVoiceLevel:function(t){return Math.floor(Math.random()*t+1)},getVoiceData:function(t){if(cc.sys.isNative){var e=this._voiceMediaPath+t;console.log("getVoiceData:"+e);var n=jsb.fileUtils.getDataFromFile(e);if(n)return l(n)}return""},download:function(){},setStorageDir:function(t){cc.sys.isNative&&(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/vivigames/voicesdk/VoiceRecorder","setStorageDir","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&(jsb.reflection.callStaticMethod("VoiceSDK","setStorageDir:",t),jsb.fileUtils.isDirectoryExist(t)||jsb.fileUtils.createDirectory(t)))}}),cc._RF.pop()},{}],WaitingConnection:[function(t,e){"use strict";cc._RF.push(e,"31f47RcytJJ67ul1CLdirxD","WaitingConnection"),cc.Class({extends:cc.Component,properties:{target:cc.Node,_isShow:!1,lblContent:cc.Label},onLoad:function(){if(null==cc.vv)return null;cc.vv.wc=this,this.node.active=this._isShow},update:function(t){this.target.rotation=this.target.rotation-90*t},show:function(t){this._isShow=!0,this.node&&(this.node.active=this._isShow),this.lblContent&&(null==t&&(t=""),this.lblContent.string=t)},hide:function(){this._isShow=!1,this.node&&(this.node.active=this._isShow)}}),cc._RF.pop()},{}],playway:[function(t,e){"use strict";cc._RF.push(e,"af6f4wEbYlIp6soloWanW8g","playway"),cc.Class({extends:cc.Component,properties:{atlas:{default:null,type:cc.SpriteAtlas}},onLoad:function(){}}),cc._RF.pop()},{}],"socket-io":[function(t,e,n){(function(o){"use strict";cc._RF.push(e,"393290vPc1IIYfh8FrmxcNZ","socket-io"),cc.sys.isNative||function(t){"object"==typeof n&&void 0!==e?e.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:this).io=t()}(function(){return function e(n,o,s){function i(a,c){if(!o[a]){if(!n[a]){var u="function"==typeof t&&t;if(!c&&u)return u(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var h=o[a]={exports:{}};n[a][0].call(h.exports,function(t){return i(n[a][1][t]||t)},h,h.exports,e,n,o,s)}return o[a].exports}for(var r="function"==typeof t&&t,a=0;a<s.length;a++)i(s[a]);return i}({1:[function(t,e){e.exports=t("./lib/")},{"./lib/":2}],2:[function(t,e){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(t,e){(function(n){var o=t("./transports"),s=t("component-emitter"),i=t("debug")("engine.io-client:socket"),r=t("indexof"),a=t("engine.io-parser"),c=t("parseuri"),u=t("parsejson"),l=t("parseqs");function h(t,e){if(!(this instanceof h))return new h(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized;var o="object"==typeof n&&n;o.global===o&&e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),this.open()}function p(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}e.exports=h,h.priorWebsocketSuccess=!1,s(h.prototype),h.protocol=a.protocol,h.Socket=h,h.Transport=t("./transport"),h.transports=t("./transports"),h.parser=t("engine.io-parser"),h.prototype.createTransport=function(t){i('creating transport "%s"',t);var e=p(this.query);return e.EIO=a.protocol,e.transport=t,this.id&&(e.sid=this.id),new o[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},h.prototype.open=function(){var t;if(this.rememberUpgrade&&h.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},h.prototype.setTransport=function(t){i("setting transport %s",t.name);var e=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},h.prototype.probe=function(t){i('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,o=this;function s(){if(o.onlyBinaryUpgrades){var s=!this.supportsBinary&&o.transport.supportsBinary;n=n||s}n||(i('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(s){if(!n)if("pong"==s.type&&"probe"==s.data){if(i('probe transport "%s" pong',t),o.upgrading=!0,o.emit("upgrading",e),!e)return;h.priorWebsocketSuccess="websocket"==e.name,i('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){n||"closed"!=o.readyState&&(i("changing transport and sending upgrade packet"),p(),o.setTransport(e),e.send([{type:"upgrade"}]),o.emit("upgrade",e),e=null,o.upgrading=!1,o.flush())})}else{i('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=e.name,o.emit("upgradeError",r)}}))}function r(){n||(n=!0,p(),e.close(),e=null)}function a(n){var s=new Error("probe error: "+n);s.transport=e.name,r(),i('probe transport "%s" failed because of error: %s',t,n),o.emit("upgradeError",s)}function c(){a("transport closed")}function u(){a("socket closed")}function l(t){e&&t.name!=e.name&&(i('"%s" works - aborting "%s"',t.name,e.name),r())}function p(){e.removeListener("open",s),e.removeListener("error",a),e.removeListener("close",c),o.removeListener("close",u),o.removeListener("upgrading",l)}h.priorWebsocketSuccess=!1,e.once("open",s),e.once("error",a),e.once("close",c),this.once("close",u),this.once("upgrading",l),e.open()},h.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",h.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},h.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(i('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(u(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else i('packet received with socket readyState "%s"',this.readyState)},h.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},h.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},h.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){i("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},h.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},h.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},h.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},h.prototype.write=h.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},h.prototype.sendPacket=function(t,e,n,o){if("function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){(n=n||{}).compress=!1!==n.compress;var s={type:t,data:e,options:n};this.emit("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}},h.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():e()}):this.upgrading?o():e()}function e(){t.onClose("forced close"),i("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function o(){t.once("upgrade",n),t.once("upgradeError",n)}return this},h.prototype.onError=function(t){i("socket error %j",t),h.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},h.prototype.onClose=function(t,e){"opening"!=this.readyState&&"open"!=this.readyState&&"closing"!=this.readyState||(i('socket close with reason: "%s"',t),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)},h.prototype.filterUpgrades=function(t){for(var e=[],n=0,o=t.length;n<o;n++)~r(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(t,e){var n=t("engine.io-parser"),o=t("component-emitter");function s(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders}e.exports=s,o(s.prototype),s.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},s.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(t){var e=n.decodePacket(t,this.socket.binaryType);this.onPacket(e)},s.prototype.onPacket=function(t){this.emit("packet",t)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(t,e,n){(function(e){var o=t("xmlhttprequest-ssl"),s=t("./polling-xhr"),i=t("./polling-jsonp"),r=t("./websocket");n.polling=function(t){var n=!1,r=!1,a=!1!==t.jsonp;if(e.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),n=t.hostname!=location.hostname||u!=t.port,r=t.secure!=c}if(t.xdomain=n,t.xscheme=r,"open"in new o(t)&&!t.forceJSONP)return new s(t);if(!a)throw new Error("JSONP disabled");return new i(t)},n.websocket=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(t,e){(function(n){var o=t("./polling"),s=t("component-inherit");e.exports=u;var i,r=/\n/g,a=/\\n/g;function c(){}function u(t){o.call(this,t),this.query=this.query||{},i||(n.___eio||(n.___eio=[]),i=n.___eio),this.index=i.length;var e=this;i.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=c)},!1)}s(u,o),u.prototype.supportsBinary=!1,u.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},u.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},u.prototype.doWrite=function(t,e){var n=this;if(!this.form){var o,s=document.createElement("form"),i=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=c,s.method="POST",s.setAttribute("accept-charset","utf-8"),i.name="d",s.appendChild(i),document.body.appendChild(s),this.form=s,this.area=i}function u(){l(),e()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(t)}catch(e){(o=document.createElement("iframe")).name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}this.form.action=this.uri(),l(),t=t.replace(a,"\\\n"),this.area.value=t.replace(r,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==n.iframe.readyState&&u()}:this.iframe.onload=u}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{"./polling":8,"component-inherit":16}],7:[function(t,e){(function(n){var o=t("xmlhttprequest-ssl"),s=t("./polling"),i=t("component-emitter"),r=t("component-inherit"),a=t("debug")("engine.io-client:polling-xhr");function c(){}function u(t){if(s.call(this,t),n.location){var e="https:"==location.protocol,o=location.port;o||(o=e?443:80),this.xd=t.hostname!=n.location.hostname||o!=t.port,this.xs=t.secure!=e}else this.extraHeaders=t.extraHeaders}function l(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=null!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function h(){for(var t in l.requests)l.requests.hasOwnProperty(t)&&l.requests[t].abort()}e.exports=u,e.exports.Request=l,r(u,s),u.prototype.supportsBinary=!0,u.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.extraHeaders=this.extraHeaders,new l(t)},u.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,o=this.request({method:"POST",data:t,isBinary:n}),s=this;o.on("success",e),o.on("error",function(t){s.onError("xhr post error",t)}),this.sendXhr=o},u.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},i(l.prototype),l.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new o(t),s=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&e.setRequestHeader(i,this.extraHeaders[i])}catch(r){}if(this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){s.onLoad()},e.onerror=function(){s.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?s.onLoad():setTimeout(function(){s.onError(e.status)},0))},a("xhr data %s",this.data),e.send(this.data)}catch(r){return void setTimeout(function(){s.onError(r)},0)}n.document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},l.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},l.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(e){}n.document&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(r){}if("application/octet-stream"===e)t=this.xhr.response;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(r){for(var n=new Uint8Array(this.xhr.response),o=[],s=0,i=n.length;s<i;s++)o.push(n[s]);t=String.fromCharCode.apply(null,o)}else t=this.xhr.responseText}catch(r){this.onError(r)}null!=t&&this.onData(t)},l.prototype.hasXDR=function(){return void 0!==n.XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},n.document&&(l.requestsCount=0,l.requests={},n.attachEvent?n.attachEvent("onunload",h):n.addEventListener&&n.addEventListener("beforeunload",h,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(t,e){var n=t("../transport"),o=t("parseqs"),s=t("engine.io-parser"),i=t("component-inherit"),r=t("yeast"),a=t("debug")("engine.io-client:polling");e.exports=u;var c=null!=new(t("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function u(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),n.call(this,t)}i(u,n),u.prototype.name="polling",u.prototype.doOpen=function(){this.poll()},u.prototype.pause=function(t){var e=this;function n(){a("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(a("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){a("pre-pause polling complete"),--o||n()})),this.writable||(a("we are currently writing - waiting to pause"),o++,this.once("drain",function(){a("pre-pause writing complete"),--o||n()}))}else n()},u.prototype.poll=function(){a("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},u.prototype.onData=function(t){var e=this;a("polling got data %s",t),s.decodePayload(t,this.socket.binaryType,function(t){if("opening"==e.readyState&&e.onOpen(),"close"==t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))},u.prototype.doClose=function(){var t=this;function e(){a("writing close packet"),t.write([{type:"close"}])}"open"==this.readyState?(a("transport open - closing"),e()):(a("transport not open - deferring close"),this.once("open",e))},u.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};e=this,s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},u.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=r()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(t,e){(function(n){var o=t("../transport"),s=t("engine.io-parser"),i=t("parseqs"),r=t("component-inherit"),a=t("yeast"),c=t("debug")("engine.io-client:websocket"),u=n.WebSocket||n.MozWebSocket,l=u;if(!l&&"undefined"==typeof window)try{l=t("ws")}catch(p){}function h(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,o.call(this,t)}e.exports=h,r(h,o),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e={agent:this.agent,perMessageDeflate:this.perMessageDeflate};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(e.headers=this.extraHeaders),this.ws=u?new l(t):new l(t,void 0,e),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(h.prototype.onData=function(t){var e=this;setTimeout(function(){o.prototype.onData.call(e,t)},0)}),h.prototype.write=function(t){var e=this;this.writable=!1;for(var o=t.length,i=0,r=o;i<r;i++)(function(t){s.encodePacket(t,e.supportsBinary,function(s){if(!u){var i={};t.options&&(i.compress=t.options.compress),e.perMessageDeflate&&("string"==typeof s?n.Buffer.byteLength(s):s.length)<e.perMessageDeflate.threshold&&(i.compress=!1)}try{u?e.ws.send(s):e.ws.send(s,i)}catch(p){c("websocket closed before onclose event")}--o||(e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0))})})(t[i])},h.prototype.onClose=function(){o.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||(t.b64=1),(t=i.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},h.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===h.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(t,e){var n=t("has-cors");e.exports=function(t){var e=t.xdomain,o=t.xscheme,s=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||n))return new XMLHttpRequest}catch(i){}try{if("undefined"!=typeof XDomainRequest&&!o&&s)return new XDomainRequest}catch(i){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}}},{"has-cors":22}],11:[function(t,e){function n(){}e.exports=function(t,e,o){var s=!1;return o=o||n,i.count=t,0===t?e():i;function i(t,n){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(s=!0,e(t),e=o):0!==i.count||s||e(null,n)}}},{}],12:[function(t,e){e.exports=function(t,e,n){var o=t.byteLength;if(e=e||0,n=n||o,t.slice)return t.slice(e,n);if(e<0&&(e+=o),n<0&&(n+=o),n>o&&(n=o),e>=o||e>=n||0===o)return new ArrayBuffer(0);for(var s=new Uint8Array(t),i=new Uint8Array(n-e),r=e,a=0;r<n;r++,a++)i[a]=s[r];return i.buffer}},{}],13:[function(t,e,n){var o;o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n.encode=function(t){var e,n=new Uint8Array(t),s=n.length,i="";for(e=0;e<s;e+=3)i+=o[n[e]>>2],i+=o[(3&n[e])<<4|n[e+1]>>4],i+=o[(15&n[e+1])<<2|n[e+2]>>6],i+=o[63&n[e+2]];return s%3==2?i=i.substring(0,i.length-1)+"=":s%3==1&&(i=i.substring(0,i.length-2)+"=="),i},n.decode=function(t){var e,n,s,i,r,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),h=new Uint8Array(l);for(e=0;e<c;e+=4)n=o.indexOf(t[e]),s=o.indexOf(t[e+1]),i=o.indexOf(t[e+2]),r=o.indexOf(t[e+3]),h[u++]=n<<2|s>>4,h[u++]=(15&s)<<4|i>>2,h[u++]=(3&i)<<6|63&r;return l}},{}],14:[function(t,e){(function(t){var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,o=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),s=o&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function r(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var o=n.buffer;if(n.byteLength!==o.byteLength){var s=new Uint8Array(n.byteLength);s.set(new Uint8Array(o,n.byteOffset,n.byteLength)),o=s.buffer}t[e]=o}}}e.exports=o?s?t.Blob:function(t,e){return r(t),new Blob(t,e||{})}:i?function(t,e){e=e||{};var o=new n;r(t);for(var s=0;s<t.length;s++)o.append(t[s]);return e.type?o.getBlob(e.type):o.getBlob()}:void 0}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{}],15:[function(t,e){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){var n=this;function o(){n.off(t,o),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},o.fn=e,this.on(t,o),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks[t];if(!o)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var s=0;s<o.length;s++)if((n=o[s])===e||n.fn===e){o.splice(s,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var o=0,s=(n=n.slice(0)).length;o<s;++o)n[o].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],16:[function(t,e){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],17:[function(t,e,n){function o(){var t;try{t=n.storage.debug}catch(e){}return t}(n=e.exports=t("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var o="color: "+this.color;t=[t[0],o,"color: inherit"].concat(Array.prototype.slice.call(t,1));var s=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(s++,"%c"===t&&(i=s))}),t.splice(i,0,o),t},n.save=function(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(e){}},n.load=o,n.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(o())},{"./debug":18}],18:[function(t,e,n){(n=e.exports=function(t){function e(){}function i(){var t=i,e=+new Date,r=e-(o||e);t.diff=r,t.prev=o,t.curr=e,o=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=n.colors[s++%n.colors.length]);var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var c=0;a[0]=a[0].replace(/%([a-z%])/g,function(e,o){if("%%"===e)return e;c++;var s=n.formatters[o];if("function"==typeof s){var i=a[c];e=s.call(t,i),a.splice(c,1),c--}return e}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(t,a)),(i.log||n.log||console.log.bind(console)).apply(t,a)}e.enabled=!1,i.enabled=!0;var r=n.enabled(t)?i:e;return r.namespace=t,r}).coerce=function(t){return t instanceof Error?t.stack||t.message:t},n.disable=function(){n.enable("")},n.enable=function(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),o=e.length,s=0;s<o;s++)e[s]&&("-"===(t=e[s].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))},n.enabled=function(t){var e,o;for(e=0,o=n.skips.length;e<o;e++)if(n.skips[e].test(t))return!1;for(e=0,o=n.names.length;e<o;e++)if(n.names[e].test(t))return!0;return!1},n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var o,s=0},{ms:25}],19:[function(t,e,n){(function(e){var o=t("./keys"),s=t("has-binary"),i=t("arraybuffer.slice"),r=t("base64-arraybuffer"),a=t("after"),c=t("utf8"),u=navigator.userAgent.match(/Android/i),l=/PhantomJS/i.test(navigator.userAgent),h=u||l;n.protocol=3;var p=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=o(p),d={type:"error",data:"parser error"},g=t("blob");function y(t,e){return e("b"+n.packets[t.type]+t.data.data)}function v(t,e,o){if(!e)return n.encodeBase64Packet(t,o);var s=t.data,i=new Uint8Array(s),r=new Uint8Array(1+s.byteLength);r[0]=p[t.type];for(var a=0;a<i.length;a++)r[a+1]=i[a];return o(r.buffer)}function m(t,e,o){if(!e)return n.encodeBase64Packet(t,o);var s=new FileReader;return s.onload=function(){t.data=s.result,n.encodePacket(t,e,!0,o)},s.readAsArrayBuffer(t.data)}function b(t,e,o){if(!e)return n.encodeBase64Packet(t,o);if(h)return m(t,e,o);var s=new Uint8Array(1);return s[0]=p[t.type],o(new g([s.buffer,t.data]))}function _(t,e,n){for(var o=new Array(t.length),s=a(t.length,n),i=function(t,n,s){e(n,function(e,n){o[t]=n,s(e,o)})},r=0;r<t.length;r++)i(r,t[r],s)}n.encodePacket=function(t,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var i=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&i instanceof ArrayBuffer)return v(t,n,s);if(g&&i instanceof e.Blob)return b(t,n,s);if(i&&i.base64)return y(t,s);var r=p[t.type];return void 0!==t.data&&(r+=o?c.encode(String(t.data)):String(t.data)),s(""+r)},n.encodeBase64Packet=function(t,o){var s,i="b"+n.packets[t.type];if(g&&t.data instanceof e.Blob){var r=new FileReader;return r.onload=function(){var t=r.result.split(",")[1];o(i+t)},r.readAsDataURL(t.data)}try{s=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(l){for(var a=new Uint8Array(t.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return i+=e.btoa(s),o(i)},n.decodePacket=function(t,e,o){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(o)try{t=c.decode(t)}catch(a){return d}var s=t.charAt(0);return Number(s)==s&&f[s]?t.length>1?{type:f[s],data:t.substring(1)}:{type:f[s]}:d}s=new Uint8Array(t)[0];var r=i(t,1);return g&&"blob"===e&&(r=new g([r])),{type:f[s],data:r}},n.decodeBase64Packet=function(t,n){var o=f[t.charAt(0)];if(!e.ArrayBuffer)return{type:o,data:{base64:!0,data:t.substr(1)}};var s=r.decode(t.substr(1));return"blob"===n&&g&&(s=new g([s])),{type:o,data:s}},n.encodePayload=function(t,e,o){"function"==typeof e&&(o=e,e=null);var i=s(t);if(e&&i)return g&&!h?n.encodePayloadAsBlob(t,o):n.encodePayloadAsArrayBuffer(t,o);if(!t.length)return o("0:");function r(t){return t.length+":"+t}_(t,function(t,o){n.encodePacket(t,!!i&&e,!0,function(t){o(null,r(t))})},function(t,e){return o(e.join(""))})},n.decodePayload=function(t,e,o){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,o);var s;if("function"==typeof e&&(o=e,e=null),""==t)return o(d,0,1);for(var i,r,a="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"!=l)a+=l;else{if(""==a||a!=(i=Number(a)))return o(d,0,1);if(a!=(r=t.substr(c+1,i)).length)return o(d,0,1);if(r.length){if(s=n.decodePacket(r,e,!0),d.type==s.type&&d.data==s.data)return o(d,0,1);if(!1===o(s,c+i,u))return}c+=i,a=""}}return""!=a?o(d,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){if(!t.length)return e(new ArrayBuffer(0));_(t,function(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})},function(t,n){var o=n.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),s=new Uint8Array(o),i=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var o=new Uint8Array(t.length),r=0;r<t.length;r++)o[r]=t.charCodeAt(r);n=o.buffer}s[i++]=e?0:1;var a=n.byteLength.toString();for(r=0;r<a.length;r++)s[i++]=parseInt(a[r]);for(s[i++]=255,o=new Uint8Array(n),r=0;r<o.length;r++)s[i++]=o[r]}),e(s.buffer)})},n.encodePayloadAsBlob=function(t,e){_(t,function(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var o=new Uint8Array(t.length),s=0;s<t.length;s++)o[s]=t.charCodeAt(s);t=o.buffer,n[0]=0}var i=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),r=new Uint8Array(i.length+1);for(s=0;s<i.length;s++)r[s]=parseInt(i[s]);if(r[i.length]=255,g){var a=new g([n.buffer,r.buffer,t]);e(null,a)}})},function(t,n){return e(new g(n))})},n.decodePayloadAsBinary=function(t,e,o){"function"==typeof e&&(o=e,e=null);for(var s=t,r=[],a=!1;s.byteLength>0;){for(var c=new Uint8Array(s),u=0===c[0],l="",h=1;255!=c[h];h++){if(l.length>310){a=!0;break}l+=c[h]}if(a)return o(d,0,1);s=i(s,2+l.length),l=parseInt(l);var p=i(s,0,l);if(u)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(y){var f=new Uint8Array(p);for(p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h])}r.push(p),s=i(s,l)}var g=r.length;r.forEach(function(t,s){o(n.decodePacket(t,e,!0),s,g)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(t,e){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var o in t)n.call(t,o)&&e.push(o);return e}},{}],21:[function(t,e){(function(n){var o=t("isarray");e.exports=function(t){return function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var s=0;s<e.length;s++)if(t(e[s]))return!0}else if(e&&"object"==typeof e)for(var i in e.toJSON&&(e=e.toJSON()),e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0;return!1}(t)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{isarray:24}],22:[function(t,e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},{}],23:[function(t,e){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var o=0;o<t.length;++o)if(t[o]===e)return o;return-1}},{}],24:[function(t,e){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],25:[function(t,e){var n=1e3,o=60*n,s=60*o,i=24*s,r=365.25*i;function a(t){if(!((t=""+t).length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var a=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*r;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*s;case"minutes":case"minute":case"mins":case"min":case"m":return a*o;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a}}}}function c(t){return t>=i?Math.round(t/i)+"d":t>=s?Math.round(t/s)+"h":t>=o?Math.round(t/o)+"m":t>=n?Math.round(t/n)+"s":t+"ms"}function u(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}e.exports=function(t,e){return e=e||{},"string"==typeof t?a(t):e.long?u(r=t,i,"day")||u(r,s,"hour")||u(r,o,"minute")||u(r,n,"second")||r+" ms":c(t);var r}},{}],26:[function(t,e){(function(t){var n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,a=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(r,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(o,"@").replace(s,"]").replace(i,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{}],27:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),o=0,s=n.length;o<s;o++){var i=n[o].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},{}],28:[function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,s=t.indexOf("["),i=t.indexOf("]");-1!=s&&-1!=i&&(t=t.substring(0,s)+t.substring(s,i).replace(/:/g,";")+t.substring(i,t.length));for(var r=n.exec(t||""),a={},c=14;c--;)a[o[c]]=r[c]||"";return-1!=s&&-1!=i&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],29:[function(t,e,n){(function(t){(function(o){var s="object"==typeof n&&n,i="object"==typeof e&&e&&e.exports==s&&e,r="object"==typeof t&&t;r.global!==r&&r.window!==r||(o=r);var a,c,u,l=String.fromCharCode;function h(t){for(var e,n,o=[],s=0,i=t.length;s<i;)(e=t.charCodeAt(s++))>=55296&&e<=56319&&s<i?56320==(64512&(n=t.charCodeAt(s++)))?o.push(((1023&e)<<10)+(1023&n)+65536):(o.push(e),s--):o.push(e);return o}function p(t){for(var e,n=t.length,o=-1,s="";++o<n;)(e=t[o])>65535&&(s+=l((e-=65536)>>>10&1023|55296),e=56320|1023&e),s+=l(e);return s}function f(t){if(t>=55296&&t<=57343)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function d(t,e){return l(t>>e&63|128)}function g(t){if(0==(4294967168&t))return l(t);var e="";return 0==(4294965248&t)?e=l(t>>6&31|192):0==(4294901760&t)?(f(t),e=l(t>>12&15|224),e+=d(t,6)):0==(4292870144&t)&&(e=l(t>>18&7|240),e+=d(t,12),e+=d(t,6)),e+l(63&t|128)}function y(){if(u>=c)throw Error("Invalid byte index");var t=255&a[u];if(u++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function v(){var t,e;if(u>c)throw Error("Invalid byte index");if(u==c)return!1;if(t=255&a[u],u++,0==(128&t))return t;if(192==(224&t)){if((e=(31&t)<<6|y())>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&t)){if((e=(15&t)<<12|y()<<6|y())>=2048)return f(e),e;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=(15&t)<<18|y()<<12|y()<<6|y())>=65536&&e<=1114111)return e;throw Error("Invalid UTF-8 detected")}var m={version:"2.0.0",encode:function(t){for(var e=h(t),n=e.length,o=-1,s="";++o<n;)s+=g(e[o]);return s},decode:function(t){a=h(t),c=a.length,u=0;for(var e,n=[];!1!==(e=v());)n.push(e);return p(n)}};if(s&&!s.nodeType)if(i)i.exports=m;else{var b={}.hasOwnProperty;for(var _ in m)b.call(m,_)&&(s[_]=m[_])}else o.utf8=m})(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{}],30:[function(t,e){var n,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,i={},r=0,a=0;function c(t){var e="";do{e=o[t%s]+e,t=Math.floor(t/s)}while(t>0);return e}function u(){var t=c(+new Date);return t!==n?(r=0,n=t):t+"."+c(r++)}for(;a<s;a++)i[o[a]]=a;u.encode=c,u.decode=function(t){var e=0;for(a=0;a<t.length;a++)e=e*s+i[t.charAt(a)];return e},e.exports=u},{}],31:[function(t,e,n){var o=t("./url"),s=t("socket.io-parser"),i=t("./manager"),r=t("debug")("socket.io-client");e.exports=n=c;var a=n.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,s=o(t),c=s.source,u=s.id,l=s.path,h=a[u]&&l in a[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(r("ignoring socket cache for %s",c),n=i(c,e)):(a[u]||(r("new io instance for %s",c),a[u]=i(c,e)),n=a[u]),n.socket(s.path)}n.protocol=s.protocol,n.connect=c,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(t,e){var n=t("engine.io-client"),o=t("./socket"),s=t("component-emitter"),i=t("socket.io-parser"),r=t("./on"),a=t("component-bind"),c=t("debug")("socket.io-client:manager"),u=t("indexof"),l=t("backo2"),h=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new i.Encoder,this.decoder=new i.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)h.call(this.nsps,t)&&(this.nsps[t].id=this.engine.id)},s(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=n(this.uri,this.opts);var e=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var s=r(e,"open",function(){o.onopen(),t&&t()}),i=r(e,"error",function(e){if(c("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;c("connect attempt will timeout after %d",a);var u=setTimeout(function(){c("connect attempt timed out after %d",a),s.destroy(),e.close(),e.emit("error","timeout"),o.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(s),this.subs.push(i),this},p.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(r(t,"data",a(this,"ondata"))),this.subs.push(r(t,"ping",a(this,"onping"))),this.subs.push(r(t,"pong",a(this,"onpong"))),this.subs.push(r(t,"error",a(this,"onerror"))),this.subs.push(r(t,"close",a(this,"onclose"))),this.subs.push(r(this.decoder,"decoded",a(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},p.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new o(this,t),this.nsps[t]=e;var n=this;e.on("connecting",s),e.on("connect",function(){e.id=n.engine.id}),this.autoConnect&&s()}function s(){~u(n.connecting,e)||n.connecting.push(e)}return e},p.prototype.destroy=function(t){var e=u(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){c("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var o=0;o<n.length;o++)e.engine.write(n[o],t.options);e.encoding=!1,e.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){var t;for(c("cleanup");t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(t,e){e.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},{}],34:[function(t,e){var n=t("socket.io-parser"),o=t("component-emitter"),s=t("to-array"),i=t("./on"),r=t("component-bind"),a=t("debug")("socket.io-client:socket"),c=t("has-binary");e.exports=h;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=o.prototype.emit;function h(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}o(h.prototype),h.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[i(t,"open",r(this,"onopen")),i(t,"packet",r(this,"onpacket")),i(t,"close",r(this,"onclose"))]}},h.prototype.open=h.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},h.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},h.prototype.emit=function(t){if(u.hasOwnProperty(t))return l.apply(this,arguments),this;var e=s(arguments),o=n.EVENT;c(e)&&(o=n.BINARY_EVENT);var i={type:o,data:e,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(a("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},h.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},h.prototype.onopen=function(){a("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:n.CONNECT})},h.prototype.onclose=function(t){a("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},h.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(t);break;case n.ACK:case n.BINARY_ACK:this.onack(t);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",t.data)}},h.prototype.onevent=function(t){var e=t.data||[];a("emitting event %j",e),null!=t.id&&(a("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?l.apply(this,e):this.receiveBuffer.push(e)},h.prototype.ack=function(t){var e=this,o=!1;return function(){if(!o){o=!0;var i=s(arguments);a("sending ack %j",i);var r=c(i)?n.BINARY_ACK:n.ACK;e.packet({type:r,id:t,data:i})}}},h.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(a("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):a("bad ack %s",t.id)},h.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},h.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)l.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},h.prototype.ondisconnect=function(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},h.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},h.prototype.close=h.prototype.disconnect=function(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},h.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(t,e){(function(n){var o=t("parseuri"),s=t("debug")("socket.io-client:url");e.exports=function(t,e){var i=t;e=e||n.location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(s("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),s("parse %s",t),i=o(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port,i.href=i.protocol+"://"+r+(e&&e.port==i.port?"":":"+i.port),i}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{debug:39,parseuri:45}],36:[function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},{}],37:[function(t,e){var n=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var o=n.call(arguments,2);return function(){return e.apply(t,o.concat(n.call(arguments)))}}},{}],38:[function(t,e){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var s=0;s<o.length;s++)if((n=o[s])===e||n.fn===e){o.splice(s,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var o=0,s=(n=n.slice(0)).length;o<s;++o)n[o].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],39:[function(t,e,n){arguments[4][17][0].apply(n,arguments)},{"./debug":40,dup:17}],40:[function(t,e,n){arguments[4][18][0].apply(n,arguments)},{dup:18,ms:44}],41:[function(t,e){(function(n){var o=t("isarray");e.exports=function(t){return function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var s=0;s<e.length;s++)if(t(e[s]))return!0}else if(e&&"object"==typeof e)for(var i in e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return!0;return!1}(t)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{isarray:43}],42:[function(t,e,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],43:[function(t,e,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],44:[function(t,e,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],45:[function(t,e,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],46:[function(t,e,n){(function(e){var o=t("isarray"),s=t("./is-buffer");n.deconstructPacket=function(t){var e=[],n=t.data,i=t;return i.data=function t(n){if(!n)return n;if(s(n)){var i={_placeholder:!0,num:e.length};return e.push(n),i}if(o(n)){for(var r=new Array(n.length),a=0;a<n.length;a++)r[a]=t(n[a]);return r}if("object"==typeof n&&!(n instanceof Date)){for(var c in r={},n)r[c]=t(n[c]);return r}return n}(n),i.attachments=e.length,{packet:i,buffers:e}},n.reconstructPacket=function(t,e){return t.data=function t(n){if(n&&n._placeholder)return e[n.num];if(o(n)){for(var s=0;s<n.length;s++)n[s]=t(n[s]);return n}if(n&&"object"==typeof n){for(var i in n)n[i]=t(n[i]);return n}return n}(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){var i=0,r=t;(function t(a,c,u){if(!a)return a;if(e.Blob&&a instanceof Blob||e.File&&a instanceof File){i++;var l=new FileReader;l.onload=function(){u?u[c]=this.result:r=this.result,--i||n(r)},l.readAsArrayBuffer(a)}else if(o(a))for(var h=0;h<a.length;h++)t(a[h],h,a);else if(a&&"object"==typeof a&&!s(a))for(var p in a)t(a[p],p,a)})(r),i||n(r)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{"./is-buffer":48,isarray:43}],47:[function(t,e,n){var o=t("debug")("socket.io-parser"),s=t("json3"),i=(t("isarray"),t("component-emitter")),r=t("./binary"),a=t("./is-buffer");function c(){}function u(t){var e="",i=!1;return e+=t.type,n.BINARY_EVENT!=t.type&&n.BINARY_ACK!=t.type||(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(i=!0,e+=t.nsp),null!=t.id&&(i&&(e+=",",i=!1),e+=t.id),null!=t.data&&(i&&(e+=","),e+=s.stringify(t.data)),o("encoded %j as %s",t,e),e}function l(t,e){r.removeBlobs(t,function(t){var n=r.deconstructPacket(t),o=u(n.packet),s=n.buffers;s.unshift(o),e(s)})}function h(){this.reconstructor=null}function p(t){var e={},i=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return d();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(var r="";"-"!=t.charAt(++i)&&(r+=t.charAt(i),i!=t.length););if(r!=Number(r)||"-"!=t.charAt(i))throw new Error("Illegal attachments");e.attachments=Number(r)}if("/"==t.charAt(i+1))for(e.nsp="";++i&&","!=(c=t.charAt(i))&&(e.nsp+=c,i!=t.length););else e.nsp="/";var a=t.charAt(i+1);if(""!==a&&Number(a)==a){for(e.id="";++i;){var c;if(null==(c=t.charAt(i))||Number(c)!=c){--i;break}if(e.id+=t.charAt(i),i==t.length)break}e.id=Number(e.id)}if(t.charAt(++i))try{e.data=s.parse(t.substr(i))}catch(u){return d()}return o("decoded %s as %j",t,e),e}function f(t){this.reconPack=t,this.buffers=[]}function d(){return{type:n.ERROR,data:"parser error"}}n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=c,n.Decoder=h,c.prototype.encode=function(t,e){o("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?l(t,e):e([u(t)])},i(h.prototype),h.prototype.add=function(t){var e;if("string"==typeof t)e=p(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new f(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},f.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=r.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},f.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(t,e){(function(t){e.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{}],49:[function(t,e,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],50:[function(t,e,n){(function(t){(function(){var o={function:!0,object:!0},s=o[typeof n]&&n&&!n.nodeType&&n,i=o[typeof window]&&window||this,r=s&&o[typeof e]&&e&&!e.nodeType&&"object"==typeof t&&t;function a(t,e){t||(t=i.Object()),e||(e=i.Object());var n=t.Number||i.Number,s=t.String||i.String,r=t.Object||i.Object,c=t.Date||i.Date,u=t.SyntaxError||i.SyntaxError,l=t.TypeError||i.TypeError,h=t.Math||i.Math,p=t.JSON||i.JSON;"object"==typeof p&&p&&(e.stringify=p.stringify,e.parse=p.parse);var f,d,g,y=r.prototype,v=y.toString,m=new c(-0xc782b5b800cec);try{m=-109252==m.getUTCFullYear()&&0===m.getUTCMonth()&&1===m.getUTCDate()&&10==m.getUTCHours()&&37==m.getUTCMinutes()&&6==m.getUTCSeconds()&&708==m.getUTCMilliseconds()}catch(T){}function b(t){if(b[t]!==g)return b[t];var o;if("bug-string-char-index"==t)o="a"!="a"[0];else if("json"==t)o=b("json-stringify")&&b("json-parse");else{var i,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var a=e.stringify,u="function"==typeof a&&m;if(u){(i=function(){return 1}).toJSON=i;try{u="0"===a(0)&&"0"===a(new n)&&'""'==a(new s)&&a(v)===g&&a(g)===g&&a()===g&&"1"===a(i)&&"[1]"==a([i])&&"[null]"==a([g])&&"null"==a(null)&&"[null,null,null]"==a([g,v,null])&&a({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===a(null,i)&&"[\n 1,\n 2\n]"==a([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==a(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new c(-1))}catch(T){u=!1}}o=u}if("json-parse"==t){var l=e.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){var h=5==(i=l(r)).a.length&&1===i.a[0];if(h){try{h=!l('"\t"')}catch(T){}if(h)try{h=1!==l("01")}catch(T){}if(h)try{h=1!==l("1.")}catch(T){}}}}catch(T){h=!1}o=h}}return b[t]=!!o}if(!b("json")){var _=b("bug-string-char-index");if(!m)var w=h.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(t,e){return k[e]+365*(t-1970)+w((t-1969+(e=+(e>1)))/4)-w((t-1901+e)/100)+w((t-1601+e)/400)};if((f=y.hasOwnProperty)||(f=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=v?f=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,f=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,f.call(this,t)}),d=function(t,e){var n,s,i,r=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,s=new n)f.call(s,i)&&r++;return n=s=null,r?d=2==r?function(t,e){var n,o={},s="[object Function]"==v.call(t);for(n in t)s&&"prototype"==n||f.call(o,n)||!(o[n]=1)||!f.call(t,n)||e(n)}:function(t,e){var n,o,s="[object Function]"==v.call(t);for(n in t)s&&"prototype"==n||!f.call(t,n)||(o="constructor"===n)||e(n);(o||f.call(t,n="constructor"))&&e(n)}:(s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],d=function(t,e){var n,i,r="[object Function]"==v.call(t),a=!r&&"function"!=typeof t.constructor&&o[typeof t.hasOwnProperty]&&t.hasOwnProperty||f;for(n in t)r&&"prototype"==n||!a.call(t,n)||e(n);for(i=s.length;n=s[--i];a.call(t,n)&&e(n));}),d(t,e)},!b("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},x=function(t,e){return("000000"+(e||0)).slice(-t)},E=function(t){for(var e='"',n=0,o=t.length,s=!_||o>10,i=s&&(_?t.split(""):t);n<o;n++){var r=t.charCodeAt(n);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=S[r];break;default:if(r<32){e+="\\u00"+x(2,r.toString(16));break}e+=s?i[n]:t.charAt(n)}}return e+'"'},C=function t(e,n,o,s,i,r,a){var c,u,h,p,y,m,b,_,k,S,C,R,O,j,M,I;try{c=n[e]}catch(T){}if("object"==typeof c&&c)if("[object Date]"!=(u=v.call(c))||f.call(c,"toJSON"))"function"==typeof c.toJSON&&("[object Number]"!=u&&"[object String]"!=u&&"[object Array]"!=u||f.call(c,"toJSON"))&&(c=c.toJSON(e));else if(c>-1/0&&c<1/0){if(A){for(y=w(c/864e5),h=w(y/365.2425)+1970-1;A(h+1,0)<=y;h++);for(p=w((y-A(h,0))/30.42);A(h,p+1)<=y;p++);y=1+y-A(h,p),b=w((m=(c%864e5+864e5)%864e5)/36e5)%24,_=w(m/6e4)%60,k=w(m/1e3)%60,S=m%1e3}else h=c.getUTCFullYear(),p=c.getUTCMonth(),y=c.getUTCDate(),b=c.getUTCHours(),_=c.getUTCMinutes(),k=c.getUTCSeconds(),S=c.getUTCMilliseconds();c=(h<=0||h>=1e4?(h<0?"-":"+")+x(6,h<0?-h:h):x(4,h))+"-"+x(2,p+1)+"-"+x(2,y)+"T"+x(2,b)+":"+x(2,_)+":"+x(2,k)+"."+x(3,S)+"Z"}else c=null;if(o&&(c=o.call(n,e,c)),null===c)return"null";if("[object Boolean]"==(u=v.call(c)))return""+c;if("[object Number]"==u)return c>-1/0&&c<1/0?""+c:"null";if("[object String]"==u)return E(""+c);if("object"==typeof c){for(j=a.length;j--;)if(a[j]===c)throw l();if(a.push(c),C=[],M=r,r+=i,"[object Array]"==u){for(O=0,j=c.length;O<j;O++)R=t(O,c,o,s,i,r,a),C.push(R===g?"null":R);I=C.length?i?"[\n"+r+C.join(",\n"+r)+"\n"+M+"]":"["+C.join(",")+"]":"[]"}else d(s||c,function(e){var n=t(e,c,o,s,i,r,a);n!==g&&C.push(E(e)+":"+(i?" ":"")+n)}),I=C.length?i?"{\n"+r+C.join(",\n"+r)+"\n"+M+"}":"{"+C.join(",")+"}":"{}";return a.pop(),I}};e.stringify=function(t,e,n){var s,i,r,a;if(o[typeof e]&&e)if("[object Function]"==(a=v.call(e)))i=e;else if("[object Array]"==a){r={};for(var c,u=0,l=e.length;u<l;c=e[u++],("[object String]"==(a=v.call(c))||"[object Number]"==a)&&(r[c]=1));}if(n)if("[object Number]"==(a=v.call(n))){if((n-=n%1)>0)for(s="",n>10&&(n=10);s.length<n;s+=" ");}else"[object String]"==a&&(s=n.length<=10?n:n.slice(0,10));return C("",((c={})[""]=t,c),i,r,s,"",[])}}if(!b("json-parse")){var R,O,j=s.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I=function(){throw R=O=null,u()},D=function(){for(var t,e,n,o,s,i=O,r=i.length;R<r;)switch(s=i.charCodeAt(R)){case 9:case 10:case 13:case 32:R++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=_?i.charAt(R):i[R],R++,t;case 34:for(t="@",R++;R<r;)if((s=i.charCodeAt(R))<32)I();else if(92==s)switch(s=i.charCodeAt(++R)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=M[s],R++;break;case 117:for(e=++R,n=R+4;R<n;R++)(s=i.charCodeAt(R))>=48&&s<=57||s>=97&&s<=102||s>=65&&s<=70||I();t+=j("0x"+i.slice(e,R));break;default:I()}else{if(34==s)break;for(s=i.charCodeAt(R),e=R;s>=32&&92!=s&&34!=s;)s=i.charCodeAt(++R);t+=i.slice(e,R)}if(34==i.charCodeAt(R))return R++,t;I();default:if(e=R,45==s&&(o=!0,s=i.charCodeAt(++R)),s>=48&&s<=57){for(48==s&&(s=i.charCodeAt(R+1))>=48&&s<=57&&I(),o=!1;R<r&&(s=i.charCodeAt(R))>=48&&s<=57;R++);if(46==i.charCodeAt(R)){for(n=++R;n<r&&(s=i.charCodeAt(n))>=48&&s<=57;n++);n==R&&I(),R=n}if(101==(s=i.charCodeAt(R))||69==s){for(43!=(s=i.charCodeAt(++R))&&45!=s||R++,n=R;n<r&&(s=i.charCodeAt(n))>=48&&s<=57;n++);n==R&&I(),R=n}return+i.slice(e,R)}if(o&&I(),"true"==i.slice(R,R+4))return R+=4,!0;if("false"==i.slice(R,R+5))return R+=5,!1;if("null"==i.slice(R,R+4))return R+=4,null;I()}return"$"},B=function t(e){var n,o;if("$"==e&&I(),"string"==typeof e){if("@"==(_?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(n=[];"]"!=(e=D());o||(o=!0))o&&(","==e?"]"==(e=D())&&I():I()),","==e&&I(),n.push(t(e));return n}if("{"==e){for(n={};"}"!=(e=D());o||(o=!0))o&&(","==e?"}"==(e=D())&&I():I()),","!=e&&"string"==typeof e&&"@"==(_?e.charAt(0):e[0])&&":"==D()||I(),n[e.slice(1)]=t(D());return n}I()}return e},N=function(t,e,n){var o=P(t,e,n);o===g?delete t[e]:t[e]=o},P=function(t,e,n){var o,s=t[e];if("object"==typeof s&&s)if("[object Array]"==v.call(s))for(o=s.length;o--;)N(s,o,n);else d(s,function(t){N(s,t,n)});return n.call(t,e,s)};e.parse=function(t,e){var n,o;return R=0,O=""+t,n=B(D()),"$"!=D()&&I(),R=O=null,e&&"[object Function]"==v.call(e)?P(((o={})[""]=n,o),"",e):n}}}return e.runInContext=a,e}if(!r||r.global!==r&&r.window!==r&&r.self!==r||(i=r),s)a(i,s);else{var c=i.JSON,u=i.JSON3,l=!1,h=a(i,i.JSON3={noConflict:function(){return l||(l=!0,i.JSON=c,i.JSON3=u,c=u=null),h}});i.JSON={parse:h.parse,stringify:h.stringify}}}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==o?o:{})},{}],51:[function(t,e){e.exports=function(t,e){for(var n=[],o=(e=e||0)||0;o<t.length;o++)n[o-e]=t[o];return n}},{}]},{},[31])(31)}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},["socket-io","AnysdkMgr","AudioMgr","GameNetMgr","Global","HTTP","HotUpdate","MahjongMgr","Net","OnBack","ReplayMgr","SelectPlayway","UserMgr","Utils","VoiceMgr","WaitingConnection","playway"]);